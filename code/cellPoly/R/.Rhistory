library(SpatialDecon)
mean(safeTME)
notredamecols <- c(rgb(0,148,2, maxColorValue = 255),
rgb(21,4,254, maxColorValue = 255),
rgb(93,124,246, maxColorValue = 255),
rgb(206,179,6, maxColorValue = 255),
rgb(251,252,252, maxColorValue = 255),
rgb(219,131,167, maxColorValue = 255),
rgb(27,207,230, maxColorValue = 255),
rgb(239,149,141, maxColorValue = 255),
rgb(247,250,124, maxColorValue = 255),
rgb(1,208,112, maxColorValue = 255),
rgb(187,77,2, maxColorValue = 255),
rgb(227,1,2, maxColorValue = 255),
rgb(151,204,228, maxColorValue = 255),
rgb(172,167,144, maxColorValue = 255),
rgb(250,83,98, maxColorValue = 255),
rgb(7,67,255, maxColorValue = 255),
rgb(0,173,109, maxColorValue = 255),
rgb(254,107,84, maxColorValue = 255))
setwd("C:/Users/pdanaher/Documents/GitHub/CellPoly/R")
save(notredamecols, file = "data/notredamecols.RData")
dir()
getwd()
save(notredamecols, file = "../data/notredamecols.RData")
notredamecols
notredamecols <- c('#009402','#0743FF','#FA5362',
'#1504FE','#5D7CF6','#1BCFE6','#01D070','#97CCE4',
'#F7FA7C','#CEB306',
'#DB83A7','#EF958D','#00AD6D','#E30102','#FE6B54',
'#FBFCFC','#BB4D02','#ACA790')
save(notredamecols, file = "../data/notredamecols.RData")
notredamecols
stainedGlassPlot <- function(polys, transcript_df, celltype,
transcript_cex = 0.3) {
# set colors:
ndcellcols = notredamecols[1 + (1:length(unique(celltype))) %% length(notredamecols)]
names(ndcellcols) = names(table(celltype))[order(table(celltype), decreasing = T)]
par(bg = "black")
par(mar = c(0,0,0,0))
plot(transcript_df[, c("x", "y")],
pch = 16, col = scales::alpha("white", 0.1), cex = transcript_cex, asp = 1)
drawPolys(polys, col = scales::alpha(ndcellcols[celltype[names(polys)]], 0.6),
border = "black",
add = TRUE, asp = 1)
}
library(CellPoly)
data("cosmx_nephritis")
attach(cosmx_nephritis)
polys <- initPolys(cell_ids = unique(transcript_df$cell_id))
polys <- cellPolys(polys = polys,
transcript_df = transcript_df,
type = "chull",   # faster chull, slower/buggy "ahull" also available
cell_ids = NULL)
stainedGlassPlot(polys, transcript_df, celltype)
library(devtools)
document()
par()$bg
